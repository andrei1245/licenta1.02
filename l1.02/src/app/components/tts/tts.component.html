<div class="tts-container">
  <div class="tts-header">
    <h1>Text-to-Speech în Limba Română</h1>
    <button class="back-button" (click)="goBack()">← Înapoi la Home</button>
  </div>

  <div class="tts-content">
    <div class="text-input-section">
      <label for="textInput">Introduceți textul pentru citire:</label>
      <textarea 
        id="textInput"
        [(ngModel)]="textToSpeak" 
        placeholder="Scrieți aici textul pe care doriți să-l auziți..."
        rows="8"
        class="text-input"
      ></textarea>
    </div>

    <div class="controls-section">
      <div class="control-group">
        <label for="voiceSelect">Voce:</label>
        <select 
          id="voiceSelect" 
          (change)="onVoiceChange($event)"
          [value]="voices.indexOf(selectedVoice || voices[0])"
          class="voice-select"
        >
          <option *ngFor="let voice of voices; let i = index" [value]="i">
            {{ voice.name }} ({{ voice.lang }})
          </option>
        </select>
      </div>

      <div class="control-group">
        <label for="rateSlider">Viteză: {{ rate }}</label>
        <input 
          type="range" 
          id="rateSlider"
          [(ngModel)]="rate" 
          min="0.5" 
          max="2" 
          step="0.1"
          class="slider"
        />
      </div>

      <div class="control-group">
        <label for="pitchSlider">Ton: {{ pitch }}</label>
        <input 
          type="range" 
          id="pitchSlider"
          [(ngModel)]="pitch" 
          min="0" 
          max="2" 
          step="0.1"
          class="slider"
        />
      </div>

      <div class="control-group">
        <label for="volumeSlider">Volum: {{ volume }}</label>
        <input 
          type="range" 
          id="volumeSlider"
          [(ngModel)]="volume" 
          min="0" 
          max="1" 
          step="0.1"
          class="slider"
        />
      </div>
    </div>

    <div class="button-section">
      <button 
        class="tts-button speak-button" 
        (click)="speak()"
        [disabled]="isSpeaking"
      >
         Citește
      </button>
      
      <button 
        class="tts-button pause-button" 
        (click)="pauseSpeaking()"
        [disabled]="!isSpeaking || isPaused"
      >
         Pauză
      </button>
      
      <button 
        class="tts-button resume-button" 
        (click)="resumeSpeaking()"
        [disabled]="!isSpeaking || !isPaused"
      >
         Continuă
      </button>
      
      <button 
        class="tts-button stop-button" 
        (click)="stopSpeaking()"
        [disabled]="!isSpeaking"
      >
         Restart
      </button>

      <button 
        class="tts-button download-button" 
        (click)="downloadAudio()"
        [disabled]="isRecording"
      >
         Descarcă Audio
      </button>

      <button 
        class="tts-button save-button" 
        (click)="saveToDatabase()"
        [disabled]="isRecording"
      >
         Salvează în Tabel
      </button>
    </div>

    <div class="status-section" *ngIf="isSpeaking">
      <div class="speaking-indicator">
        <span class="pulse"></span>
        Se citește textul...
      </div>
    </div>
  </div>
</div>
